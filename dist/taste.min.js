(()=>{var re=Object.defineProperty,ge=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var ne=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var Y=(e,n,s)=>n in e?re(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,h=(e,n)=>{for(var s in n||(n={}))de.call(n,s)&&Y(e,s,n[s]);if(ne)for(var s of ne(n))ye.call(n,s)&&Y(e,s,n[s]);return e},y=(e,n)=>ge(e,he(n));var be=(e,n)=>{for(var s in n)re(e,s,{get:n[s],enumerable:!0})};var se=(e,n,s)=>(Y(e,typeof n!="symbol"?n+"":n,s),s);var _=(e,n,s)=>new Promise((a,l)=>{var d=c=>{try{D(s.next(c))}catch(b){l(b)}},q=c=>{try{D(s.throw(c))}catch(b){l(b)}},D=c=>c.done?a(c.value):Promise.resolve(c.value).then(d,q);D((s=s.apply(e,n)).next())});var te={};be(te,{createSuite:()=>T,curry:()=>p,debug:()=>L,equals:()=>o,expect:()=>t,formatTestResultsAsText:()=>U,getAllTests:()=>De,is:()=>r,not:()=>u,reportsFailure:()=>E,runTests:()=>C,test:()=>Pe,which:()=>v});var W=Symbol(),G=Symbol(),H=Symbol(),Z=Symbol();function p(e,n){function s(...a){if(a.length>=e.length)return e(...a);{let l=(...d)=>s(...a,...d);return l[W]=e,l[G]=s,l[H]=a,l[Z]=s[Z],l}}return s[W]=e,s[G]=s,s[H]=[],s[Z]=n||w(e),s}function P(e){return e[W]}function Q(e){return e[G]}function R(e){return e[H]||[]}function w(e){return e[Z]||e.name}var oe=T(),{getAllTests:we}=oe;function m(...e){oe.test(...e)}function T(){let e=[];return{test:n,getAllTests:s};function n(a,l){e.push(...Object.entries(l).map(([d,q])=>xe(a,d,q)))}function s(){return e}}function t(e,n,...s){let a=n(...s,e);if(typeof a=="function")throw new Error("The matcher function `"+J(a)+"` returned a function instead of a boolean. You might need to pass another argument to it.");if(!a)throw new x([e,n,...s])}function xe(e,n,s){return{subject:e,scenario:n,fn:s}}var x=class extends Error{constructor(n){super("Expectation failed"),this.expectArgs=n}};function M(e,n){return e===n}function ie(e){return e.length===0}function ae(e){return e===1}m("expect",{"doesn't throw if the expectation is met"(){t(1,ae)},"throws if the expectation isn't met"(){let e;try{t(2,ae)}catch(n){e=n}if(!e)throw new Error("nothing thrown")},"passes extra args to the expectation"(){t(1,M,1)},"works with asymmetric comparisons"(){let e=(s,a)=>a>s,n=s=>a=>e(s,a);t(2,e,1),t(2,n(1))},"throws if extra args don't meet the expectation"(){let e;try{t(2,M,1)}catch(n){e=n}if(!e)throw new Error("nothing thrown")},"throws if you forget part of the assertion"(){let e=s=>a=>s===a,n;try{t(1,e)}catch(s){n=s}if(!n)throw new Error("nothing thrown");t(n.message,M,"The matcher function `<function>` returned a function instead of a boolean. You might need to pass another argument to it.")}});m("a suite",{"starts with no tests"(){t(T().getAllTests(),ie)},"registers tests independently of other suites"(){let e=T();e.test("some object",{"does something"(){}});let n=e.getAllTests()[0];t(n.subject,M,"some object"),t(n.scenario,M,"does something");let s=T();t(s.getAllTests(),ie)}});function F(e,n){return e===n}m("curry",{"transfers the function name to the curried version"(){let e=p(function(){});t(w(e),F,"theName")},"adds the passed-in name to the curried function"(){let e=p(function(){},"foo");t(w(e),F,"foo")},"lets you call the curried function normally"(){let e=p((n,s)=>n+s);t(e(1,2),F,3)},"lets you pass args one by one"(){let e=p((n,s)=>n+s);t(e(1)(2),F,3)},"lets you group args"(){let e=p((n,s,a)=>n+s+a);t(e(1)(2,3),F,6),t(e(1,2)(4),F,7)},"treats a call with no args as a no-op"(){let e=p((n,s,a)=>n+s+a);t(e()(1)()(2,3),F,6)},"is idempotent"(){let e=p(function(s,a){return s+a});e=p(e),t(e(1)(2),F,3),t(e(3,4),F,7),t(w(e),F,"add")}});function ce(e){return e[e.length-1]}function X(e){return e[0]}var v=p(function(e,n){return e(n)},"which"),o=p(function(e,n){var s,a;if(ve(e))return e(n);if(Array.isArray(e)&&Array.isArray(n))return e.length===n.length&&e.every((l,d)=>o(e[d],n[d]));if(e instanceof Function&&n instanceof Function)return P(e)&&P(e)===P(n)?o(R(e),R(n)):e===n;if(e instanceof Date&&n instanceof Date)return e.toISOString()===n.toISOString();if(e instanceof Set&&n instanceof Set)return e.size===n.size&&[...e.values()].every(l=>n.has(l));if(e instanceof Error&&n instanceof Error)return e.message===n.message&&e.__proto__.constructor===n.__proto__.constructor;if(ue(e)&&ue(n)){let l=Object.keys(e),d=Object.keys(n);return l.length===d.length&&l.every(q=>o(e[q],n[q]))&&((s=e.__proto__)==null?void 0:s.constructor)===((a=n.__proto__)==null?void 0:a.constructor)}return e===n},"equals"),r=p(function(e,n){return e===n},"is"),u=p(function(e,n,...s){return!e(n,...s)},"not"),A=p(function(e){return/^\s*$/.test(e)},"isBlank");function ue(e){return!!e&&typeof e=="object"}function ve(e){return e instanceof Function&&Q(e)===v&&R(e).length===1}var N=(e,n)=>e===n;m("equals",{"compares primitives"(){t(o(1,1),r,!0),t(o(1,2),r,!1)},"compares nulls"(){t(o(null,null),r,!0)},"compares undefineds"(){t(o(void 0,void 0),r,!0)},"treats null and undefined as different"(){t(o(null,void 0),r,!1)},"compares bigints"(){t(o(BigInt("10"),BigInt("99")),r,!1),t(o(BigInt("10"),BigInt("10")),r,!0)},"compares bigints to numbers"(){t(o(BigInt("10"),10),r,!1)},"is curried"(){t(1,o(1)),t(1,u(o(2)))},"given empty arrays"(){t([],o,[])},"given arrays of different lengths"(){t([1],u(o([]))),t([],u(o([1])))},"given arrays with different elements"(){t([1],u(o([2])))},"given equal arrays"(){t([1,2,3],o,[1,2,3])},"given equal nested arrays"(){t([1,[2,3],4],o,[1,[2,3],4])},"given unequal nested arrays"(){t([1,[2,5],4],u(o([1,[2,3],4])))},"given an array and a non-array"(){t([1],u(o(null))),t(null,u(o([1])))},"given empty objects"(){t({},o,{})},"given an array and an object"(){t({},u(o([]))),t([],u(o({})))},"given objects with different numbers of keys"(){t({foo:1},u(o({}))),t({},u(o({foo:1})))},"given objects with different sets of keys"(){t({foo:1},u(o({bar:1}))),t({bar:1},u(o({foo:1})))},"given objects with the same keys but different values"(){t({foo:1},u(o({foo:2})))},"given equal objects"(){t({foo:1,bar:2},o({foo:1,bar:2}))},"doesn't care about key order"(){t({bar:2,foo:1},o({foo:1,bar:2}))},"deep-compares objects"(){t({bar:{foo:1}},o({bar:{foo:1}}))},"given classes"(){class e{}class n{}t(e,o,e),t(n,u(o(e)))},"given instances of different classes"(){class e{}class n{}t(new e,u(o(new n)))},"given instances of the same class"(){class e{}t(new e,o(new e))},"given instances of the same class with different data"(){class e{constructor(s){this.x=s}}t(new e(1),u(o(new e(2))))},"given a subclass instance and a superclass instance"(){class e{}class n extends e{}t(new e,u(o(new n))),t(new n,u(o(new e)))},"given different functions"(){t(()=>{},u(o(()=>{})))},"given the same function"(){t(o,o,o)},"given partially applied functions with equal arguments"(){t(o({foo:1}),o,o({foo:1}))},"equates a partially applied function with no args to an unapplied function"(){t(o(),o,o)},"given partially applied functions with different arguments"(){t(o({foo:2}),u(o(o({foo:1}))))},"given different dates"(){t(new Date("1999-12-21"),u(o(new Date("2001-12-22"))))},"given equal dates"(){t(new Date("1999-12-21"),o(new Date("1999-12-21")))},"given objects with no prototypes"(){t(Object.create(null),o(Object.create(null)))},"given different sets"(){t(new Set([1]),u(o(new Set))),t(new Set([1,2]),u(o(new Set([1,3]))))},"given equal sets"(){t(new Set([1,2]),o(new Set([2,1])))},"given Errors with equal messages"(){t(new Error("a"),o(new Error("a")))},"given instances of an Error subclass with equal messages"(){class e extends Error{}t(new e("a"),o(new e("a")))},"given errors with different messages"(){t(new Error("a"),u(o(new Error("b"))))},"given errors with different classes"(){class e extends Error{}t(new Error("a"),u(o(new e("a"))))},"given a custom matcher"(){let e=p(function(s,a){return a.includes(s)});t({foo:"hello"},o,{foo:v(e("ell"))}),t({foo:"blah"},u(o({foo:v(e("ell"))})))},"if you mistakenly use `which` without passing arguments"(){let e=p(function(s,a){return a.includes(s)});t({foo:"hello"},u(o({foo:v()})))},"is named"(){t(w(o),r,"equals")}});m("is",{"returns true if its args are equal"(){t(r(1,1),N,!0)},"returns false if its args are unequal"(){t(r(1,2),N,!1),t(r(2,1),N,!1)},"performs exact comparison"(){t(r(1,"1"),N,!1),t(r("1",1),N,!1)},"compares by pointer equality"(){t(r({},{}),N,!1)},"is named"(){t(w(r),r,"is")}});m("not",{"inverts the given predicate"(){t(u(r(1))(2),N,!0),t(u(r(1))(1),N,!1)},"inverts twice"(){t(1,u(u(r(1))))},"inverts a binary predicate"(){let e=u(r);t(1,e,2),t(1,u(e),1)},"is named"(){t(w(u),r,"not")}});m("which",{"is named"(){t(w(v),r,"which")}});m("isBlank",{"is true for the empty string"(){t(A(""),r,!0)},"is false for a string with visible characters"(){t(A("a"),r,!1)},"is true for whitespace"(){t(A(` 	
\r`),r,!0)},"is false for a string with both visible characters and spaces"(){t(A(" not blank "),r,!1)},"is named"(){t(w(A),r,"isBlank")}});function J(e){return w(e)||"<function>"}function i(e){let n=[];return s(e);function s(c){var b;if(c===null)return"null";if(typeof c=="function")return a(c,l);if(typeof c=="string")return k(c);if(typeof c=="bigint")return`${c}n`;if(Array.isArray(c))return a(c,d);if(c instanceof Date)return`Date(${c.toISOString().replace("T"," ").replace("Z"," UTC")})`;if(c instanceof RegExp)return String(c);if(c instanceof Error)return`${fe(c)}(${k(c.message)})`;if(c instanceof Set)return a(c,D);if(typeof c=="object"){let O=(b=c==null?void 0:c.__proto__)==null?void 0:b.constructor;return O===Object||!O?a(c,q):`${fe(c)} ${a(c,q)}`}return String(c)}function a(c,b){if(n.indexOf(c)>-1)return"<circular reference>";n.push(c);let O=b(c);return n.pop(),O}function l(c){let b=R(c).map(s),O=J(c);return b.length?I(O+"(",b,",",")"):O}function d(c){return I("[",c.map(s),",","]")}function q(c){let b=Object.entries(c).map(([O,me])=>`${je(O)}: ${s(me)}`);return I("{",b,",","}")}function D(c){let b=[...c.values()].map(s);return I("Set {",b,",","}")}}function je(e){return/^[a-zA-Z0-9_$]+$/.test(e)?e:k(e)}function fe(e){return J(e.__proto__.constructor)}function k(e){return'"'+String(e).replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/"/g,'\\"').replace(/[\x00-\x1f\x7f]/g,Se)+'"'}function Se(e){let n=e.charCodeAt(0).toString(16);return"\\x"+(n.length<2?"0"+n:n)}function S(e,n){return n.split(`
`).map(s=>s&&Ee(z(e," "))(s)).join(`
`)}function K(...e){return e.map(Te(`
`)).join("")}function z(e,n){return Array(e+1).join(n)}var Ee=e=>n=>e+n,Te=e=>n=>n+e,Fe=p(function(n,s){return s.slice(0,n.length)===n?s.slice(n.length):s});function Ae(e){return String(e).split(/\r?\n/)}function f(e){let n=Ae(e);A(X(n))&&n.shift(),A(ce(n))&&n.pop();let s=/^[ \t]*/.exec(X(n))[0];return n.map(Fe(s)).join(`
`)}function I(e,n,s,a){return n.length<2?e+n.join("")+a:e+`
`+S(2,n.join(s+`
`))+`
`+a}m("repeat",{"repeats a string zero times"(){t(z(0,"ha"),r,"")},"repeats a string once"(){t(z(1,"eh"),r,"eh")},"repeats a string several times"(){t(z(4,"na"),r,"nananana")},"repeats the empty string"(){t(z(10,""),r,"")}});m("pretty",{"formats numbers"(){t(i(1),r,"1"),t(i(2.5),r,"2.5"),t(i(-4),r,"-4"),t(i(1e21),r,"1e+21")},"represents NaN as 'NaN'"(){t(i(NaN),r,"NaN")},"represents bigints"(){t(i(BigInt("100")),r,"100n")},"represents null as 'null'"(){t(i(null),r,"null")},"represents undefined as 'undefined'"(){t(i(void 0),r,"undefined")},"represents booleans as 'true' and 'false'"(){t(i(!0),r,"true"),t(i(!1),r,"false")},"represents symbols as 'Symbol()'"(){t(i(Symbol()),r,"Symbol()")},"represents errors"(){t(i(new Error("uh oh")),r,'Error("uh oh")')},"represents the class of an error"(){t(i(new SyntaxError("uh oh")),r,'SyntaxError("uh oh")')},"represents the class of an error with its own constructor property"(){let e=new SyntaxError("uh oh");e.constructor=1,t(i(e),r,'SyntaxError("uh oh")')},"formats dates"(){t(i(new Date("2012-12-21T23:59:59Z")),r,"Date(2012-12-21 23:59:59.000 UTC)")},"represents the empty string as a pair of quotes"(){t(i(""),r,'""')},"quotes a string"(){t(i("hi"),r,'"hi"')},"escapes newlines"(){t(i(`

`),r,'"\\n\\n"')},"escapes quotes"(){t(i('""'),r,'"\\"\\""')},"puts slashes around regexen"(){t(i(/[a-z]+/),r,"/[a-z]+/")},"escapes literal slashes in regexen"(){t(i(/http:\/\//),r,"/http:\\/\\//")},"represents an empty array as []"(){t(i([]),r,"[]")},"formats an array with one element inline"(){t(i(["a"]),r,'["a"]')},"formats an array with two elements"(){t(i(["a","b"]),r,f`
      [
        "a",
        "b"
      ]
    `)},"formats an empty object"(){t(i({}),r,"{}")},"formats an object with one property inline"(){t(i({foo:"a"}),r,'{foo: "a"}')},"formats an object with two properties"(){t(i({foo:"a",bar:"b"}),r,f`
      {
        foo: "a",
        bar: "b"
      }
    `)},"quotes object keys that are not valid identifiers"(){t(i({"hello, world":1}),r,'{"hello, world": 1}')},"quotes an empty object key"(){t(i({"":1}),r,'{"": 1}')},"doesn't quote a key that is weird but still identifiery"(){t(i({$5_word:"casuistry"}),r,'{$5_word: "casuistry"}')},"doesn't quote a numeric key"(){t(i({0:1}),r,"{0: 1}")},"formats an object with a constructor"(){class e{constructor(){se(this,"foo",1)}}t(i(new e),r,"SomeClass {foo: 1}")},"formats a POJO with a constructor property"(){t(i({constructor:1}),r,"{constructor: 1}")},"formats an object with no prototype"(){t(i(Object.create(null)),r,"{}")},"formats a class instance with an own constructor property"(){class e{}let n=new e;n.constructor=1,t(i(n),r,"SomeClass {constructor: 1}")},"omits prototype methods"(){class e{aMethod(){}}t(i(new e),r,"SomeClass {}")},"formats nested objects and arrays"(){t(i({foo:[{kludge:3,qux:4},2],bar:{baz:1}}),r,f`
      {
        foo: [
          {
            kludge: 3,
            qux: 4
          },
          2
        ],
        bar: {baz: 1}
      }
    `)},"formats a set with no members"(){t(i(new Set),r,"Set {}")},"formats a set with one member"(){t(i(new Set([1])),r,"Set {1}")},"formats a set with two members"(){t(i(new Set([1,2])),r,f`
      Set {
        1,
        2
      }
    `)},"avoids infinite recursion in arrays"(){let e=[],n=[e];e.push(n),t(i(e),r,"[[<circular reference>]]")},"avoids infinite recursion in function args"(){let e=[],n=p(function(a,l){});e.push(n(e)),t(i(e),r,"[f(<circular reference>)]")},"avoids infinite recursion in POJOs"(){let e={};e.foo=e,t(i(e),r,"{foo: <circular reference>}")},"avoids infinite recursion in instances of classes"(){class e{}let n=new e;n.foo=n,t(i(n),r,"MyClass {foo: MyClass <circular reference>}")},"avoids infinite recursion in sets"(){let e=new Set;e.add(e),t(i(e),r,"Set {<circular reference>}")},"formats a template string"(){t(i("1"),r,'"1"')},"represents an anonymous function as <function>"(){t(i(()=>{}),r,"<function>")},"formats a function name"(){t(i(i),r,"pretty")},"prints the name of a curried function"(){t(i(r),r,"is")},"prints partial arguments passed to a function"(){let e=p(function(s,a,l){});t(i(e(1)),r,"foo(1)"),t(i(e(1)(2)),r,f`
      foo(
        1,
        2
      )
    `),t(i(e(0,1)),r,f`
      foo(
        0,
        1
      )
    `)},"pretty-formats function arguments"(){let e=p(function(s,a,l){});t(i(e("hi")),r,'foo("hi")')}});m("toLines",{"returns empty string given no args"(){t(K(),r,"")},"returns a single line"(){t(K("foo"),r,`foo
`)},"returns multiple lines"(){t(K("foo","bar"),r,`foo
bar
`)}});m("indent",{"adds the given number of spaces"(){t(S(1,"a"),r," a"),t(S(2,"b"),r,"  b")},"indents each line"(){t(S(1,`foo
bar`),r,` foo
 bar`)},"does not indent an empty string"(){t(S(2,""),r,"")},"does not indent a blank line"(){t(S(2,`foo
`),r,`  foo
`)}});m("trimMargin",{"given an empty string"(){t(f``,r,"")},"given a string with one line break and space"(){t(f`
    `,r,"")},"given a string with no margin"(){t(f`hi`,r,"hi")},"removes an initial newline"(){let e=f`
hi`;t(e,r,"hi")},"removes a final newline followed by spaces"(){let e=f`hi
    `;t(e,r,"hi")},"removes an initial windows line ending"(){let e=f(`\r
foo`);t(e,r,"foo")},"removes spaces from the beginning of a one-line string"(){let e=f("     foo");t(e,r,"foo")},"removes mixed tabs and spaces"(){let e=f(`	 foo
	 bar`);t(e,r,`foo
bar`)},"does not remove mismatched tabs and spaces"(){let e=f(`	 foo
 	bar`);t(e,r,`foo
 	bar`)},"converts windows line endings to unix ones"(){let e=f(`foo\r
bar`);t(e,r,`foo
bar`)},"removes the same number of spaces from all lines"(){let e=f`
      foo
        bar
          baz
    `;t(e,r,`foo
  bar
    baz`)}});m("quote",{"stringifies its argument"(){t(k(1),r,'"1"')},"escapes quotes"(){t(k('""'),r,'"\\"\\""')},"escapes newlines"(){t(k(`

`),r,'"\\n\\n"')},"escapes backslashes"(){t(k("\\a\\"),r,'"\\\\a\\\\"')},"escapes tabs"(){t(k("		"),r,'"\\t\\t"')},"escapes nonprinting ASCII"(){t(k("\0\x07\x7F"),r,'"\\x00\\x07\\x1f\\x7f"')}});function C(e){return _(this,null,function*(){let n=[];for(let s of e){let a=yield ke(s.fn),l=$.map(d=>({type:"debug",args:d}));$.length=0,n.push({test:s,error:a,instrumentLog:l})}return{results:n}})}function ke(e){let n;try{let s=e();if(s instanceof Promise)return new Promise(a=>{s.then(()=>a()).catch(a)})}catch(s){n=s}return Promise.resolve(n)}var $=[];function L(...e){$.push(e)}function ee(e){return typeof e!="undefined"}var qe=p(function(n,s){return s instanceof x&&o(n,s.expectArgs)});m("runTests",{"given no tests"(){return _(this,null,function*(){t(yield C([]),o,{results:[]})})},"given a passing test"(){return _(this,null,function*(){let e=()=>{},{results:n}=yield C([{subject:"a thing",scenario:"does something",fn:e}]);t(n,o,[{test:{subject:"a thing",scenario:"does something",fn:e},error:void 0,instrumentLog:[]}])})},"given a failing test"(){return _(this,null,function*(){let{results:e}=yield C([{subject:"a thing",scenario:"does something",fn(){t(!1,r,!0)}}]);t(e,o,[{test:v(ee),error:v(qe([!1,r,!0])),instrumentLog:[]}])})},"given a test that debugs"(){return _(this,null,function*(){let{results:e}=yield C([{subject:"a thing",scenario:"does something",fn(){L("hello","there"),L("another")}}]);t(e,o,[{test:v(ee),error:void 0,instrumentLog:[{type:"debug",args:["hello","there"]},{type:"debug",args:["another"]}]}]),$.length=0})},"given an async test that debugs"(){return _(this,null,function*(){let{results:e}=yield C([{subject:"a thing",scenario:"does something",fn(){return _(this,null,function*(){L("before await"),yield Promise.resolve(),L("after await")})}}]);t(e,o,[{test:v(ee),error:void 0,instrumentLog:[{type:"debug",args:["before await"]},{type:"debug",args:["after await"]}]}])})}});m("debug logging",{"logs all args passed"(){L("arg 1","arg 2"),t($,o,[["arg 1","arg 2"]]),$.length=0}});var V=`

`;function U({results:e}){let n=!1,s=!1,a=[];for(let l of e){let d=!1;l.error&&(d=n=!0),l.instrumentLog.length&&(d=s=!0),d&&a.push(l)}return n?Oe(a):s?Ce(e.length,a):_e(e.length)}function E(e){return/fail/i.test(e)}function Oe(e){return e.map(le).join(V)+V+"Tests failed."}function _e(e){switch(e){case 0:return"No tests to run.";case 1:return"One test ran, and found no issues.";default:return`${e} tests ran, and found no issues.`}}function Ce(e,n){return n.map(le).join(V)+V+Le(e)+`, but debugging instrumentation is present.
Remove it before shipping.`}function Le(e){switch(e){case 1:return"The test passed";case 2:return"Both tests passed";default:return`All ${e} tests passed`}}function le({test:e,error:n,instrumentLog:s}){let l=[e.subject+" "+e.scenario];return s.length&&l.push(S(2,Re(s))),n&&l.push(S(2,Ne(n))),l.join(`
`)}function Ne(e){return e instanceof x?Ie(e):$e(e)}function Re(e){return e.map(({args:n})=>B("debug",n)).join("")}function Ie(e){return B("expect",e.expectArgs)}function $e(e){return i(e)+" thrown"+S(2,ze(e.stack))}function B(e,n){return I(e+"(",n.map(i),",",")")}function ze(e){if(!e)return"";let n=f(e).split(`
`);return`
`+n.slice(0,Be(n)).map(s=>s.replace(/(file:\/\/|http:\/\/[^/]*)/,"").replace(/^([^@]*)@(.*)$/,"at $1 ($2)")).join(`
`)}function Be(e){let n=e.findIndex(s=>s.includes("errorFrom"));return n===-1?e.length:n}var g=Object.freeze({test:{subject:"a thing",scenario:"does something",fn(){}},error:void 0,instrumentLog:[]});function j(e,n){t(U({results:e}),r,n)}m("formatTestResultsAsText",{"given no tests"(){j([],"No tests to run.")},"given one passing test"(){j([g],"One test ran, and found no issues.")},"given multiple passing tests"(){j([g,g],"2 tests ran, and found no issues.")},"given a failing test"(){let e=[y(h({},g),{error:new x([1,r,2])})];j(e,f`
      a thing does something
        expect(
          1,
          is,
          2
        )

      Tests failed.
    `)},"given multiple failing tests"(){let e=[y(h({},g),{error:new x([1,r,2])}),y(h({},g),{test:y(h({},g.test),{scenario:"does a second thing"}),error:new x([3,r,4])})];j(e,f`
      a thing does something
        expect(
          1,
          is,
          2
        )

      a thing does a second thing
        expect(
          3,
          is,
          4
        )

      Tests failed.
    `)},"shows debug logs"(){let e=[y(h({},g),{instrumentLog:[{type:"debug",args:["hello"]}]})];j(e,f`
      a thing does something
        debug("hello")

      The test passed, but debugging instrumentation is present.
      Remove it before shipping.
    `)},"shows debug logs for two tests"(){let e=[y(h({},g),{instrumentLog:[{type:"debug",args:["hello"]}]}),y(h({},g),{instrumentLog:[{type:"debug",args:["blah"]}]})];j(e,f`
      a thing does something
        debug("hello")

      a thing does something
        debug("blah")

      Both tests passed, but debugging instrumentation is present.
      Remove it before shipping.
    `)},"shows debug logs for three tests"(){let e=[y(h({},g),{instrumentLog:[{type:"debug",args:["hello"]}]}),y(h({},g),{instrumentLog:[{type:"debug",args:["blah"]}]}),h({},g)];j(e,f`
      a thing does something
        debug("hello")

      a thing does something
        debug("blah")

      All 3 tests passed, but debugging instrumentation is present.
      Remove it before shipping.
    `)},"shows debug logs in the presence of failures"(){let e=[y(h({},g),{instrumentLog:[{type:"debug",args:["hello"]}],error:new x([1,r,2])}),y(h({},g),{instrumentLog:[{type:"debug",args:["blah"]}]}),y(h({},g),{error:new x([3,r,4])})];j(e,f`
      a thing does something
        debug("hello")
        expect(
          1,
          is,
          2
        )

      a thing does something
        debug("blah")

      a thing does something
        expect(
          3,
          is,
          4
        )

      Tests failed.
    `)},"formats an error with a Firefox stacktrace"(){let e=new Error("test error");e.stack=f`
      kablooie@http://localhost:8080/src/plain-text-test-formatter.js:217:13
      formats an error with a stacktrace@http://localhost:8080/src/plain-text-test-formatter.js:221:7
      errorFrom@http://localhost:8080/src/test-runner.js:15:9
      result@http://localhost:8080/src/test-runner.js:24:26
      runTests@http://localhost:8080/src/test-runner.js:20:26
      runAndFormat@http://localhost:8080/:14:49
      @http://localhost:8080/:17:22
    `;let n=[y(h({},g),{error:e})];j(n,f`
      a thing does something
        Error("test error") thrown
          at kablooie (/src/plain-text-test-formatter.js:217:13)
          at formats an error with a stacktrace (/src/plain-text-test-formatter.js:221:7)

      Tests failed.
    `)},"formats an error with a Chrome stacktrace"(){let e=new Error("test error");e.stack=f`
      Error: test error
          at repeats a string zero times (formatting.js:14)
          at errorFrom (test-runner.impl.js:42)
          at runTests (test-runner.impl.js:6)
          at async (index):17
    `;let n=[y(h({},g),{error:e})];j(n,f`
      a thing does something
        Error("test error") thrown
          Error: test error
              at repeats a string zero times (formatting.js:14)

      Tests failed.
    `)},"formats an error thrown from async code on Firefox"(){let e=new Error("test error");e.stack=f`
      repeats a string zero times@http://localhost:8080/src/formatting.js:15:11
      async*errorFrom@http://localhost:8080/src/test-runner.impl.js:42:20
      runTests@http://localhost:8080/src/test-runner.impl.js:6:25
      async*@http://localhost:8080/:17:23
    `;let n=[y(h({},g),{error:e})];j(n,f`
      a thing does something
        Error("test error") thrown
          at repeats a string zero times (/src/formatting.js:15:11)

      Tests failed.
    `)},"formats an error thrown from async code on Chrome"(){let e=new Error("test error");e.stack=f`
      Error: test error
          at repeats a string zero times (formatting.js:15)
    `;let n=[y(h({},g),{error:e})];j(n,f`
      a thing does something
        Error("test error") thrown
          Error: test error
              at repeats a string zero times (formatting.js:15)

      Tests failed.
    `)},"formats a throwable without a stacktrace"(){let e=[y(h({},g),{error:"test error"})];j(e,f`
      a thing does something
        "test error" thrown

      Tests failed.
    `)}});m("formatFunctionCall",{"given no function args"(){t(B("myFunc",[]),r,"myFunc()")},"given one arg"(){t(B("myFunc",["a"]),r,'myFunc("a")')},"given multiple args"(){t(B("myFunc",["a","b"]),r,f`
      myFunc(
        "a",
        "b"
      )
    `)}});m("reportsFailure",{"given success"(){t(E("10 tests ran"),r,!1)},"given failure"(){t(E("Tests failed"),r,!0)},"matches 'fail' case insensitively"(){t("FAIL",E),t("A FAILURE",E),t("fail",E),t("something failed",E),t("f",u(E))}});var pe=T(),{getAllTests:De}=pe;function Pe(...e){pe.test(...e)}window.Taste=te;})();
