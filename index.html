<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Taste - ...</title>
    <script type="text/javascript">
      window.process = {env: {NODE_ENV: "development"}}
    </script>
  </head>
  <body>
    <code><pre id="testOutput"></pre></code>
    <script type="module">
import.meta.glob("./src/**/*.test.*", {eager: true})
import {runTests, reportsFailure, formatTestResultsAsText} from "./index.js"
import {getAllTests} from "./src/testing.js"

const results = await runTests(getAllTests())
const output = formatTestResultsAsText(results)
testOutput.innerText = output
document.title = "Taste - " + summaryOf(output)

function summaryOf(output) {
  if (reportsFailure(output)) {
    return "FAILED"
  } else {
    return output
  }
}
    </script>
  </body>
</html>
